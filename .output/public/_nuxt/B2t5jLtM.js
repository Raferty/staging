import{_ as M}from"./DNRio-kj.js";import T from"./D70LwgX2.js";import{_ as $,$ as P,r as A,x as V,p as E,y as R,c as U,a as t,b as q,m as k,N as I,t as c,q as o,d as _,a6 as p,w as m,o as g,a7 as j}from"./CnENCE-U.js";import{u as F}from"./CbJ48-ma.js";import{u as H}from"./C4dPGVOT.js";const W=window.setInterval,z={class:"product-card"},G={class:"product-card__countdow"},J={class:"products-cart-message"},K={class:"product-card__picture"},L=["src"],O={class:"product-card__info"},Q={class:"product-card__about"},X={class:"product-card__name"},Y={class:"product-card__category"},Z={class:"product-card__digit"},tt={class:"product-card__price"},et={class:"product-card__price product-card__price--ruble"},ot={__name:"ProductCard",props:{id:[String,Number],title:String,image:String,category:String,price:[String,Number]},setup(r){let f=P({});const b=A(new Date(2025,2,1,12,0,0)),C=u=>{const e=u.getTime(),l=new Date().getTime(),s=e-l,a=Math.floor(s/(1e3*60*60*24)),S=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),w=Math.floor(s%(1e3*60*60)/(1e3*60)),y=Math.floor(s%(1e3*60)/1e3);console.log({days:a,hours:S,minutes:w,seconds:y}),f={days:a,hours:S,minutes:w,seconds:y}};(()=>{W(C(b.value),1e3)})();const v=F(),n=H(),{$toast:h}=V(),N=()=>{n.addProduct(i),h.configure({position:{bottom:20,left:20}}),h.show({message:"Hello World!",type:j.SUCCESS,duration:3e3,dismissible:!0,icon:"✨"})},d=r,i={productId:d.id,title:d.title,image:d.image,quantity:1},D=E(()=>(parseInt(d.price)*96.1079).toFixed(2)),{message:B,updateMessage:x}=R("message");return(u,e)=>{const l=M,s=T;return g(),U("div",z,[t("div",G,c(o(f)),1),t("div",J,[_(c(o(B))+" ",1),t("button",{onClick:e[0]||(e[0]=p((...a)=>o(x)&&o(x)(...a),["stop"]))},"Up!")]),q(l,{"nuxt-link":"",to:`/products/${r.id}`},{default:m(()=>[t("div",null,c(o(n).message),1),t("picture",K,[t("img",{src:r.image,alt:"",class:"product-card__image"},null,8,L)]),t("div",O,[t("div",Q,[t("div",X,c(r.title),1),t("div",Y,c(r.category),1)]),t("div",Z,[t("div",tt,"$ "+c(r.price),1),t("div",et," ₽ "+c(o(D)),1)])])]),_:1},8,["to"]),o(v).isAuth?(g(),k(s,{key:0,onClick:p(N,["prevent"])},{default:m(()=>e[2]||(e[2]=[_(" add product ")])),_:1})):I("",!0),o(v).isAuth&&o(n).isProductExist(i.productId)?(g(),k(s,{key:1,onClick:e[1]||(e[1]=p(a=>o(n).deleteProductById(i.productId),["prevent"]))},{default:m(()=>e[3]||(e[3]=[_(" delete product ")])),_:1})):I("",!0)])}}},it=$(ot,[["__scopeId","data-v-3cc40a5c"]]);export{it as default};
