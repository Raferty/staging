import v from"./D3Fk79lh.js";import x from"./6Z_v59fR.js";import S from"./DjOSc4bN.js";import N from"./DV1YHpL_.js";import{_ as y,x as C,r as T,c as B,a as s,m as r,N as $,b as m,q as n,w as l,d as c,I as b,K as A,o as a,a7 as V}from"./DCzsqzv6.js";import{u as w}from"./DiQP8X5Z.js";import"./Bp3O9pTl.js";import"./DgdvQPxi.js";import"./B_PZSPYi.js";const F={class:"header"},I={class:"header__container l-default"},O={id:"sasasas",class:"header__actions"},E={__name:"TheHeader",setup(J){const{$toast:p}=C(),i=w(),t=T(!1),u=()=>{t.value=!1,p.show({message:"Авторизация прошла успешно",type:V.SUCCESS,duration:5e3,dismissible:!0,icon:"✨"})},d=e=>{$fetch("https://fakestoreapi.com/auth/login",{method:"POST",body:JSON.stringify(e)}).then(o=>{i.updateToken(o.token),console.log("res",o),o.token&&localStorage.setItem("userData",JSON.stringify(e))}).finally(()=>t.value=!1)};return(e,o)=>{const f=v,g=x,_=S,h=N;return a(),B(A,null,[s("header",F,[s("div",I,[m(f),m(g),s("div",O,[n(i).isAuth?(a(),r(_,{key:0,onClick:o[0]||(o[0]=k=>("navigateTo"in e?e.navigateTo:n(b))("/admin/"))},{default:l(()=>o[2]||(o[2]=[c("Amin panel")])),_:1})):(a(),r(_,{key:1,onClick:o[1]||(o[1]=k=>t.value=!n(t))},{default:l(()=>o[3]||(o[3]=[c("Login")])),_:1}))])])]),n(t)?(a(),r(h,{key:0,onClose:u,onSubmit:d})):$("",!0)],64)}}},z=y(E,[["__scopeId","data-v-d143ef44"]]);export{z as default};
